<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ETAP Digital - Cadastro</title>
  <link rel="stylesheet" href="../../static/css/stylelogin.css" />
</head>
  <body>
    <section class="wrapper">
      <div class="form signup">
        <header>Registre-se</header>
        <form method="post">
          {% csrf_token %}
          <input type="text" name="username" placeholder="Nome de usuário" value="{{ form.username.value|default:'' }}" required />
          {{ form.username.errors }}

          <input type="email" name="email" placeholder="Email" value="{{ form.email.value|default:'' }}" required />
          {{ form.email.errors }}

          <input type="password" name="password1" placeholder="Senha" required />
          {{ form.password1.errors }}

          <input type="password" name="password2" placeholder="Confirmar Senha" required />
          {{ form.password2.errors }}

          <div class="checkbox">
            <input type="checkbox" id="signupCheck" required />
            <label for="signupCheck">Eu aceito os termos e condições</label>
          </div>

          <input type="submit" value="Criar conta" />
        </form>
        <p>Já tem conta? <a href="{% url 'login' %}">Entrar</a></p>
      </div>

      <div class="form login">
        {% csrf_token %}
        <header>Login</header>
        <form method="post" action="{% url 'login' %}">
          {{ login_form.non_field_errors }}

          <input type="text" name="username" placeholder="Nome de usuário" value="{{ login_form.username.value|default:'' }}" required />
          {% csrf_token %}

          {{ login_form.username.errors }}

          <input type="password" name="password" placeholder="Senha" required />
          {{ login_form.password.errors }}

          <a href="{% url 'password_reset' %}">Esqueceu a senha?</a>
          <input type="submit" value="Login" />
        </form>
        <p>Não tem conta? <a href="{% url 'signup' %}">Cadastre-se</a></p>
      </div>

      <script>
        const wrapper = document.querySelector(".wrapper"),
          signupHeader = document.querySelector(".signup header"),
          loginHeader = document.querySelector(".login header");

        loginHeader?.addEventListener("click", () => wrapper.classList.add("active"));
        signupHeader?.addEventListener("click", () => wrapper.classList.remove("active"));
      </script>
    </section>
  </body>
</html>
